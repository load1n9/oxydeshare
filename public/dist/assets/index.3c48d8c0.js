import{C as e,N as t,a as n,B as a,b as r,R as o,c as l,F as i,i as s,u as c,M as m,d as u,S as d,e as g,f as p}from"./vendor.5f6f4901.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const l=new URL(e,a);if(self[t].moduleMap[l])return n(self[t].moduleMap[l]);const i=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){o(new Error(`Failed to import: ${e}`)),r(s)},onload(){n(self[t].moduleMap[l]),r(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/assets/");function h(){const[s,c]=e.useState("dark"),[m,u]=e.useState("whistle");return e.createElement("div",{className:"light"===s?"light":"dark"},e.createElement(t,{bg:"light"===s?"light":"dark",variant:"light"===s?"light":"dark",expand:"lg"},e.createElement(t.Brand,{href:"#home"},"OxydeShare"),e.createElement(t.Toggle,{"aria-controls":"basic-navbar-nav"}),e.createElement(t.Collapse,{id:"basic-navbar-nav"},e.createElement(n,{className:"mr-auto"},e.createElement(n.Item,null,e.createElement(a,{onClick:function(){c("light"===s?"dark":"light")}},"vs-light"===s?"ðŸŒž":"ðŸŒ›"))))),e.createElement(r,{style:{marginTop:"20%"}},e.createElement(o,{className:"justify-content-md-center"},e.createElement(l,{md:"auto"},e.createElement(i.Group,{id:"language",value:m,onChange:function(e){u(e.target.value)}},e.createElement(i.Control,{as:"select"},e.createElement("option",null,"whistle"),e.createElement("option",null,"javascript"),e.createElement("option",null,"python"),e.createElement("option",null,"typescript"),e.createElement("option",null,"html")))),e.createElement(l,{md:"auto"},e.createElement(a,{variant:"primary",onClick:function(){window.location.href=`/room/${Math.random().toString(36).substring(7)}/?language=${m}`}},"Create Room")),e.createElement(l,{md:"auto"}))))}const f={keywords:["import","as","from","export","fun","return","if","else","while","break","continue","var","val","none","for","in","match","type","struct","trait"],typeKeywords:["none","string","bool","i8","i16","i32","i64","u8","u16","u32","u64","f32","f64"],operators:["&&=","||=","&&","||","!","+=","-=","*=","/=","%=","**=","+","-","*","/","%","**","<<=",">>=","<<",">>","&=","|=","^=","&","|","^","~","==","!=","<=",">=","<",">","="],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/#\([a-zA-Z]\w*\)/,"annotation"],[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/'[^\\']'/,"string"],[/(')(@escapes)(')/,["string","string.escape","string"]],[/'/,"string.invalid"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},v={acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",codeLens:!0,folding:!0,foldingStrategy:"auto",fontLigatures:!1,formatOnPaste:!1,formatOnType:!1,hideCursorInOverviewRuler:!1,highlightActiveIndentGuide:!0,links:!0,mouseWheelZoom:!1,multiCursorMergeOverlapping:!0,multiCursorModifier:"alt",overviewRulerBorder:!0,overviewRulerLanes:2,renderControlCharacters:!1,renderFinalNewline:!0,renderIndentGuides:!0,renderLineHighlight:"all",renderWhitespace:"none",revealHorizontalRightPadding:30,rulers:[],accessibilitySupport:"auto",selectOnLineNumbers:!1,roundedSelection:!0,readOnly:!1,cursorStyle:"line",automaticLayout:!0,cursorBlinking:"blink",autoIndent:!0,quickSuggestions:!0,quickSuggestionsDelay:100,colorDecorators:!0},E=s();function w(){let{roomId:r}=c();const[o,l]=e.useState(""),[i,s]=e.useState("vs-dark"),[u,d]=e.useState("whistle");return E.on("init",(e=>{l(e)})),E.on("newcode",(({newCode:e})=>{l(e)})),e.createElement("div",{className:"App"},e.createElement(t,{bg:"vs-light"===i?"light":"dark",variant:"vs-light"===i?"light":"dark",expand:"lg"},e.createElement(t.Brand,{href:"#home"},"OxydeShare"),e.createElement(t.Toggle,{"aria-controls":"basic-navbar-nav"}),e.createElement(t.Collapse,{id:"basic-navbar-nav"},e.createElement(n,{className:"mr-auto"},e.createElement(n.Item,null,e.createElement(a,{onClick:function(){s("vs-light"===i?"vs-dark":"vs-light")}},"vs-light"===i?"ðŸŒž":"ðŸŒ›"))))),e.createElement(m,{height:"93.08vh",language:u,theme:i,value:o,options:v,onChange:function(e,t){l(e),console.log(t),E.emit("changecode",{code:e,roomId:r})},editorWillMount:function(e){const t=new URLSearchParams(window.location.search);t.has("language")&&d(t.get("language")),e.languages.register({id:"whistle"}),e.languages.setMonarchTokensProvider("whistle",f)},editorDidMount:function(e,t){console.log("editorDidMount",e),e.focus(),E.emit("join",{roomId:r})},loading:"Loading..."}))}function b(){return e.createElement(u,null,e.createElement(d,null,e.createElement(g,{path:"/room/:roomId"},e.createElement(w,null)),e.createElement(g,{path:"/"},e.createElement(h,null))))}p.render(e.createElement(u,null,e.createElement(b,null)),document.getElementById("root"));
